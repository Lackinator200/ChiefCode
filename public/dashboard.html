<!DOCTYPE html>

<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>My Home</title>
       <link rel="stylesheet" href="style2.css">
       <script src="progress-bar.js"></script>
    </head>
    <body>
        <header>
            <div id='topbar'>
                <div class="topnav-left">
                    <a href="Index.html" title="go to homepage"></a>
                    <img src="photos\Logo.png" alt="ChiefCode website logo" class="logo">
                  </a>
                    <a class="active" href="dashboard.html">Home</a>
                    <a href="Courses.html">courses</a>
                    <a href="#studio">studio</a>
                    <a href="About.html">About</a>
                    <a href="#support">Support</a>
                </div>
                    <div class="topnav-right">
                    <a href="#signup" class="right">Sign Up</a>
                    <a href="login.html" class="right">Login</a>
                    </div>
                </div>
            </div>
        </header>
        <section>
            <div style="height: 700px;">
                <div class="heading">
                    <h1>My homepage</h1>
                </div>
                <div class="content">
                    <div class="level-container">
                        <h2>My level: <span id="level">7</span></h2>
                        <div class="progress-bar">
                          <div id="progress-fill" class="progress-fill"></div>
                          <div class="milestone"></div>
                        </div>
                        <p><span id="exp-left"></span> exp left to level up</p>
                    </div>
                    <div class="course-card">
                      <div class="course-image">
                        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSBZLvXejweU2WlzhcY40cKpDHg8QtWscevujaaURbbbgG8hDq8rYGrUMTT2WJ8w28nbyQ&usqp=CAU" alt="Course Thumbnail" />
                      </div>
                      <div class="course-info">
                        <h2>Course: scripting in Unity</h2>
                        <h3>Lesson: GameObject properties</h3>
                        <p>
                          Know how to see the properties of a Game Object in Unity, like: positions, rotations, textiles, add compound, and RigidBody
                        </p>
                      </div>  
                      <div>
                        <div>                
                              <div class="course-progress">
                                <p><span id="course-percent">39%</span> completed</p>
                                <div class="progress-bar">
                                  <div id="course-fill" class="progress-fill"></div>
                                </div>
                                <p><span id="course-lessons">0/35</span> lessons completed</p>
                                <script src="Progress-lesson.js"></script>
                              </div>
                          
                              <div class="course-actions">
                                <button class="settings_course">Settings of this Course</button>
                                <button class="continue-btn">Continue course</button>
                              </div>
                            </div>
                        </div>                          
                    </div>
                </div>
            </div>
        </section>
        <div id="account-info-bar">
          <span class="close-button">Ã—</span>
          <img class="avatar-large" src="https://lh3.googleusercontent.com/ogw/AF2bZyjfCoFjgFSwrJ3mHBAebjaY-ZESfcEeQvAsdpNUp5tv6UM=s32-c-mo" srcset="https://lh3.googleusercontent.com/ogw/AF2bZyjfCoFjgFSwrJ3mHBAebjaY-ZESfcEeQvAsdpNUp5tv6UM=s32-c-mo 1x, https://lh3.googleusercontent.com/ogw/AF2bZyjfCoFjgFSwrJ3mHBAebjaY-ZESfcEeQvAsdpNUp5tv6UM=s64-c-mo" alt="Account Avatar">
          <div class="account-name">Waseem Alyousif</div>
          <div class="account-level">Lv: 7</div>
          <ul class="options-menu">
              <li><a href="#">Manage my studio settings</a></li>
              <li><a href="#">Manage my account settings</a></li>
              <li><a href="#">Advanced settings</a></li>
              <li><a href="#">Switch account</a></li>
          </ul>
      </div>
      <script>
          const accountIcon = document.getElementById('account-face');
          const accountInfoBar = document.getElementById('account-info-bar');
          const closeButton = document.querySelector('#account-info-bar .close-button');
  
          accountIcon.addEventListener('click', () => {
              accountInfoBar.classList.add('show');
              document.body.style.overflow = 'hidden';
          });
  
          closeButton.addEventListener('click', () => {
              accountInfoBar.classList.remove('show');
              document.body.style.overflow = '';
          });
  
          document.addEventListener('click', (event) => {
              if (!accountInfoBar.contains(event.target) && event.target !== accountIcon) {
                  accountInfoBar.classList.remove('show');
                  document.body.style.overflow = '';
              }
          });
      </script>
      <script>
        // Topbar and account logo hide on scroll down, show on scroll up
        let lastScrollY = window.scrollY;
        const topbar = document.querySelector('.topnav-left');
        const accountFace = document.getElementById('account-face');
        let ticking = false;

        function handleScroll() {
          const currentScrollY = window.scrollY;
          if (currentScrollY > lastScrollY && currentScrollY > 60) {
            // Scrolling down
            topbar.style.transform = 'translateY(-100%)';
            if (accountFace) accountFace.style.transform = 'translateY(-100%)';
          } else {
            // Scrolling up
            topbar.style.transform = 'translateY(0)';
            if (accountFace) accountFace.style.transform = 'translateY(0)';
          }
          lastScrollY = currentScrollY;
          ticking = false;
        }

        window.addEventListener('scroll', function() {
          if (!ticking) {
            window.requestAnimationFrame(handleScroll);
            ticking = true;
          }
        });
        // Ensure topbar and account logo are visible on page load
        topbar.style.transition = 'transform 0.3s cubic-bezier(0.4,0,0.2,1)';
        topbar.style.transform = 'translateY(0)';
        if (accountFace) {
          accountFace.style.transition = 'transform 0.3s cubic-bezier(0.4,0,0.2,1)';
          accountFace.style.transform = 'translateY(0)';
        }
      </script>
    </body>
</html>